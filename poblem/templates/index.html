<!DOCTYPE html>
<html>
<head>
    <title>ë¶„ë¦¬ìˆ˜ê±° ì‹œë®¬ë ˆì´ì…˜</title>
    <script src="https://www.vpython.org/contents/vpython.js"></script>
</head>
<body>
    <script>
        // í™˜ê²½ ì„¤ì •
        scene.title = "ë¶„ë¦¬ìˆ˜ê±° ì‹œë®¬ë ˆì´ì…˜";
        scene.background = new vector(1, 1, 1);

        // ë¶„ë¥˜ ë°•ìŠ¤ ìƒì„±
        var boxes = {
            'ì¢…ì´': box({ pos: vector(-3, 0, 0), size: vector(1, 1, 1), color: vector(0.8, 0.5, 0.3) }),
            'í”Œë¼ìŠ¤í‹±': box({ pos: vector(-1.5, 0, 0), size: vector(1, 1, 1), color: vector(0.68, 0.85, 0.85) }),
            'ë¹„ë‹': box({ pos: vector(0, 0, 0), size: vector(1, 1, 1), color: vector(0.5, 1, 0.5) }),
            'ìº”': box({ pos: vector(1.5, 0, 0), size: vector(1, 1, 1), color: vector(1, 0.5, 0.5) })
        };

        // ì“°ë ˆê¸° ì•„ì´í…œ ìƒì„±
        var items = [
            { name: 'ì‹ ë¬¸ì§€', type: 'ì¢…ì´' },
            { name: 'í˜íŠ¸ë³‘', type: 'í”Œë¼ìŠ¤í‹±' },
            { name: 'ë¹„ë‹ë´‰ì§€', type: 'ë¹„ë‹' },
            { name: 'ìº”', type: 'ìº”' },
            { name: 'ì¢…ì´ì»µ', type: 'ì¢…ì´' },
            { name: 'í”Œë¼ìŠ¤í‹± ìš©ê¸°', type: 'í”Œë¼ìŠ¤í‹±' },
            { name: 'ì•Œë£¨ë¯¸ëŠ„ ìº”', type: 'ìº”' },
            { name: 'ê³¼ì ë´‰ì§€', type: 'ë¹„ë‹' }
        ];

        // ì ìˆ˜ì™€ ì‹œí–‰ íšŸìˆ˜
        var score = 0;
        var attempts = 0;

        // ê²Œì„ ì‹œì‘
        function createTrash() {
            var item = items[Math.floor(Math.random() * items.length)];
            var trash = sphere({ pos: vector(3, 0, 0), radius: 0.2, color: vector(1, 1, 1) });
            trash.name = item.name; // ë¬¼ê±´ ì´ë¦„
            trash.type = item.type; // ë¬¼ê±´ ì¢…ë¥˜
            return trash;
        }

        var trash = createTrash();

        // ì‚¬ìš©ìê°€ í´ë¦­í•  ë•Œ ì²˜ë¦¬
        function mouseClick(evt) {
            var mousePos = scene.mouse.pos.x;
            var userType;

            if (mousePos < -2) { // ì¢…ì´ ë°•ìŠ¤
                userType = 'ì¢…ì´';
            } else if (mousePos < 0) { // í”Œë¼ìŠ¤í‹± ë°•ìŠ¤
                userType = 'í”Œë¼ìŠ¤í‹±';
            } else if (mousePos < 1.5) { // ë¹„ë‹ ë°•ìŠ¤
                userType = 'ë¹„ë‹';
            } else if (mousePos < 3) { // ìº” ë°•ìŠ¤
                userType = 'ìº”';
            } else {
                return; // í´ë¦­ì´ ìœ íš¨í•˜ì§€ ì•ŠìŒ
            }

            attempts++;
            if (userType === trash.type) {
                score++;
                console.log(`ì •í™•íˆ ë¶„ë¦¬ìˆ˜ê±°ë˜ì—ˆìŠµë‹ˆë‹¤! '${trash.name}'ê°€ ${trash.type}ë¡œ ë¶„ë¦¬ë˜ì—ˆìŠµë‹ˆë‹¤.`);
            } else {
                console.log(`ì˜ëª»ëœ ë¶„ë¦¬ìˆ˜ê±°! '${trash.name}'ëŠ” ${trash.type}ì…ë‹ˆë‹¤.`);
            }

            trash.remove(); // ì“°ë ˆê¸° ì œê±°
            trash = createTrash(); // ìƒˆë¡œìš´ ì“°ë ˆê¸° ìƒì„±

            // ì ìˆ˜ì™€ ì‹œí–‰ íšŸìˆ˜ ì¶œë ¥
            if (attempts === 15) {
                if (score >= 10) {
                    console.log('ë‹¹ì‹ ì€ ë¶„ë¦¬ìˆ˜ê±° ê³ ìˆ˜! ğŸ˜ ì•ìœ¼ë¡œë„ í™˜ê²½ì„ ìœ„í•´ ì—´ì‹¬íˆ ë¶„ë¦¬ìˆ˜ê±° í•´ì£¼ì„¸ìš” ğŸ˜Š');
                } else {
                    console.log('ë‹¹ì‹ ì€ ë¶„ë¦¬ìˆ˜ê±° í—ˆìˆ˜ã…¡ã…¡ ì˜¬ë°”ë¥¸ ë¶„ë¦¬ìˆ˜ê±° ë°©ë²•ì„ ë°°ì›Œë³´ì„¸ìš” ğŸ˜');
                }
                // ë¦¬ì…‹ ë˜ëŠ” ì¢…ë£Œ ë¡œì§ ì¶”ê°€ ê°€ëŠ¥
            }
        }

        // ë§ˆìš°ìŠ¤ í´ë¦­ ì´ë²¤íŠ¸ ë“±ë¡
        scene.bind('click', mouseClick);

        // ë¬´í•œ ë£¨í”„
        function animate() {
            rate(60);
            requestAnimationFrame(animate);
        }
        animate();
    </script>
</body>
</html>
